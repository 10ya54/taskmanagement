<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<head>
  <title>タスク一覧</title>
</head>
<body>
<div layout:fragment="content" class="container">

  <div class="d-flex justify-content-between align-items-center my-5">
    <h3>タスク一覧</h3>
    <a th:href="@{/tasks/new}" class="btn btn-success">＋ 新規作成</a>
  </div>

  <table class="table table-bordered table-hover">
    <thead class="table-light">
    <tr>
      <th>ID</th>
      <th>タイトル</th>
      <th>期限</th>
      <th>種別</th>
      <th>優先度</th>
      <th>担当者</th>
      <th>ステータス</th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="task : ${taskList}">
      <td th:text="${task.id}">1</td>
      <td th:text="${task.title}">Spring Boot 学習</td>
      <td th:text="${task.dueDate != null ? #temporals.format(task.dueDate, 'yyyy/MM/dd') : ''}">2025/01/15</td>
      <td th:text="${task.type.label}">仕事</td>
      <td th:text="${task.priority.label}">高</td>
      <td th:text="${task.assignee}">u001</td>
      <td>
        <span class="badge"
              th:classappend="${task.status.cssClass}"
              th:text="${task.status.label}">
        </span>
      </td>
      <td>
        <a th:href="@{/tasks/{id}(id=${task.id})}"
           class="btn btn-sm btn-outline-primary">
          詳細
        </a>
      </td>
    </tr>
    </tbody>
  </table>

</div>
</body>
</html>
